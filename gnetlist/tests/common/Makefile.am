TEST_EXTENSIONS = .net

AM_TESTS_ENVIRONMENT = \
	srcdir='$(srcdir)'; export srcdir;
NET_LOG_COMPILER = $(srcdir)/run-test

dist_check_SCRIPTS = run-test
EXTRA_DIST = $(input_files) $(TESTS)
# dist_check_DATA would be more appropriate for $(input_files) and $(TESTS)
# but triggers a lot of "Nothing to be done for '...'" messages.

input_files = \
	inputs/JD-extras/openIP_5.cir \
	inputs/JD-symbols/LVD.sym \
	inputs/JD.sch \
	inputs/SlottedOpamps-symbols/LM324_slotted-1.sym \
	inputs/SlottedOpamps.sch \
	inputs/TwoStageAmp-extras/2N3904.mod \
	inputs/TwoStageAmp-extras/Simulation.cmd \
	inputs/TwoStageAmp-symbols/transistor.sym \
	inputs/TwoStageAmp.sch \
	inputs/cascade.sch \
	inputs/multiequal.sch \
	inputs/netattrib.sch \
	inputs/powersupply.sch \
	inputs/singlenet.sch \
	inputs/stack-torture.sch

XFAIL_TESTS = \
	outputs/futurenet2/SlottedOpamps-output.net \
	outputs/switcap/SlottedOpamps-output.net

TESTS = outputs/PCB/JD-output.net \
	outputs/PCB/SlottedOpamps-output.net \
	outputs/PCB/TwoStageAmp-output.net \
	outputs/PCB/cascade-output.net \
	outputs/PCB/multiequal-output.net \
	outputs/PCB/netattrib-output.net \
	outputs/PCB/powersupply-output.net \
	outputs/PCB/singlenet-output.net \
	outputs/PCB/stack-torture-output.net \
	outputs/allegro/JD-output.net \
	outputs/allegro/SlottedOpamps-output.net \
	outputs/allegro/TwoStageAmp-output.net \
	outputs/allegro/cascade-output.net \
	outputs/allegro/multiequal-output.net \
	outputs/allegro/netattrib-output.net \
	outputs/allegro/powersupply-output.net \
	outputs/allegro/singlenet-output.net \
	outputs/allegro/stack-torture-output.net \
	outputs/bae/JD-output.net \
	outputs/bae/SlottedOpamps-output.net \
	outputs/bae/TwoStageAmp-output.net \
	outputs/bae/cascade-output.net \
	outputs/bae/multiequal-output.net \
	outputs/bae/netattrib-output.net \
	outputs/bae/powersupply-output.net \
	outputs/bae/singlenet-output.net \
	outputs/bae/stack-torture-output.net \
	outputs/bom/JD-output.net \
	outputs/bom/SlottedOpamps-output.net \
	outputs/bom/TwoStageAmp-output.net \
	outputs/bom/cascade-output.net \
	outputs/bom/multiequal-output.net \
	outputs/bom/netattrib-output.net \
	outputs/bom/powersupply-output.net \
	outputs/bom/singlenet-output.net \
	outputs/bom/stack-torture-output.net \
	outputs/bom2/JD-output.net \
	outputs/bom2/SlottedOpamps-output.net \
	outputs/bom2/TwoStageAmp-output.net \
	outputs/bom2/cascade-output.net \
	outputs/bom2/multiequal-output.net \
	outputs/bom2/netattrib-output.net \
	outputs/bom2/powersupply-output.net \
	outputs/bom2/singlenet-output.net \
	outputs/bom2/stack-torture-output.net \
	outputs/calay/JD-output.net \
	outputs/calay/SlottedOpamps-output.net \
	outputs/calay/TwoStageAmp-output.net \
	outputs/calay/cascade-output.net \
	outputs/calay/multiequal-output.net \
	outputs/calay/netattrib-output.net \
	outputs/calay/powersupply-output.net \
	outputs/calay/singlenet-output.net \
	outputs/calay/stack-torture-output.net \
	outputs/cascade/cascade-output.net \
	outputs/drc/JD-output.net \
	outputs/drc/SlottedOpamps-output.net \
	outputs/drc/TwoStageAmp-output.net \
	outputs/drc/cascade-output.net \
	outputs/drc/multiequal-output.net \
	outputs/drc/netattrib-output.net \
	outputs/drc/powersupply-output.net \
	outputs/drc/singlenet-output.net \
	outputs/drc/stack-torture-output.net \
	outputs/drc2/JD-output.net \
	outputs/drc2/SlottedOpamps-output.net \
	outputs/drc2/TwoStageAmp-output.net \
	outputs/drc2/cascade-output.net \
	outputs/drc2/multiequal-output.net \
	outputs/drc2/netattrib-output.net \
	outputs/drc2/powersupply-output.net \
	outputs/drc2/singlenet-output.net \
	outputs/drc2/stack-torture-output.net \
	outputs/eagle/JD-output.net \
	outputs/eagle/SlottedOpamps-output.net \
	outputs/eagle/TwoStageAmp-output.net \
	outputs/eagle/cascade-output.net \
	outputs/eagle/multiequal-output.net \
	outputs/eagle/netattrib-output.net \
	outputs/eagle/powersupply-output.net \
	outputs/eagle/singlenet-output.net \
	outputs/eagle/stack-torture-output.net \
	outputs/ewnet/JD-output.net \
	outputs/ewnet/SlottedOpamps-output.net \
	outputs/ewnet/TwoStageAmp-output.net \
	outputs/ewnet/cascade-output.net \
	outputs/ewnet/multiequal-output.net \
	outputs/ewnet/netattrib-output.net \
	outputs/ewnet/powersupply-output.net \
	outputs/ewnet/singlenet-output.net \
	outputs/ewnet/stack-torture-output.net \
	outputs/futurenet2/JD-output.net \
	outputs/futurenet2/SlottedOpamps-output.net \
	outputs/futurenet2/TwoStageAmp-output.net \
	outputs/futurenet2/cascade-output.net \
	outputs/futurenet2/multiequal-output.net \
	outputs/futurenet2/netattrib-output.net \
	outputs/futurenet2/powersupply-output.net \
	outputs/futurenet2/singlenet-output.net \
	outputs/futurenet2/stack-torture-output.net \
	outputs/geda/JD-output.net \
	outputs/geda/SlottedOpamps-output.net \
	outputs/geda/TwoStageAmp-output.net \
	outputs/geda/cascade-output.net \
	outputs/geda/multiequal-output.net \
	outputs/geda/netattrib-output.net \
	outputs/geda/powersupply-output.net \
	outputs/geda/singlenet-output.net \
	outputs/geda/stack-torture-output.net \
	outputs/gossip/JD-output.net \
	outputs/gossip/SlottedOpamps-output.net \
	outputs/gossip/TwoStageAmp-output.net \
	outputs/gossip/cascade-output.net \
	outputs/gossip/multiequal-output.net \
	outputs/gossip/netattrib-output.net \
	outputs/gossip/powersupply-output.net \
	outputs/gossip/singlenet-output.net \
	outputs/gossip/stack-torture-output.net \
	outputs/gsch2pcb/JD-output.net \
	outputs/gsch2pcb/SlottedOpamps-output.net \
	outputs/gsch2pcb/TwoStageAmp-output.net \
	outputs/gsch2pcb/cascade-output.net \
	outputs/gsch2pcb/multiequal-output.net \
	outputs/gsch2pcb/netattrib-output.net \
	outputs/gsch2pcb/powersupply-output.net \
	outputs/gsch2pcb/singlenet-output.net \
	outputs/gsch2pcb/stack-torture-output.net \
	outputs/liquidpcb/JD-output.net \
	outputs/liquidpcb/SlottedOpamps-output.net \
	outputs/liquidpcb/TwoStageAmp-output.net \
	outputs/liquidpcb/cascade-output.net \
	outputs/liquidpcb/multiequal-output.net \
	outputs/liquidpcb/netattrib-output.net \
	outputs/liquidpcb/powersupply-output.net \
	outputs/liquidpcb/singlenet-output.net \
	outputs/liquidpcb/stack-torture-output.net \
	outputs/mathematica/JD-output.net \
	outputs/mathematica/SlottedOpamps-output.net \
	outputs/mathematica/TwoStageAmp-output.net \
	outputs/mathematica/cascade-output.net \
	outputs/mathematica/multiequal-output.net \
	outputs/mathematica/netattrib-output.net \
	outputs/mathematica/powersupply-output.net \
	outputs/mathematica/singlenet-output.net \
	outputs/mathematica/stack-torture-output.net \
	outputs/maxascii/JD-output.net \
	outputs/maxascii/SlottedOpamps-output.net \
	outputs/maxascii/TwoStageAmp-output.net \
	outputs/maxascii/cascade-output.net \
	outputs/maxascii/multiequal-output.net \
	outputs/maxascii/netattrib-output.net \
	outputs/maxascii/powersupply-output.net \
	outputs/maxascii/singlenet-output.net \
	outputs/maxascii/stack-torture-output.net \
	outputs/osmond/JD-output.net \
	outputs/osmond/SlottedOpamps-output.net \
	outputs/osmond/TwoStageAmp-output.net \
	outputs/osmond/cascade-output.net \
	outputs/osmond/multiequal-output.net \
	outputs/osmond/netattrib-output.net \
	outputs/osmond/powersupply-output.net \
	outputs/osmond/singlenet-output.net \
	outputs/osmond/stack-torture-output.net \
	outputs/pads/JD-output.net \
	outputs/pads/SlottedOpamps-output.net \
	outputs/pads/TwoStageAmp-output.net \
	outputs/pads/cascade-output.net \
	outputs/pads/multiequal-output.net \
	outputs/pads/netattrib-output.net \
	outputs/pads/powersupply-output.net \
	outputs/pads/singlenet-output.net \
	outputs/pads/stack-torture-output.net \
	outputs/partslist1/JD-output.net \
	outputs/partslist1/SlottedOpamps-output.net \
	outputs/partslist1/TwoStageAmp-output.net \
	outputs/partslist1/cascade-output.net \
	outputs/partslist1/multiequal-output.net \
	outputs/partslist1/netattrib-output.net \
	outputs/partslist1/powersupply-output.net \
	outputs/partslist1/singlenet-output.net \
	outputs/partslist1/stack-torture-output.net \
	outputs/partslist2/JD-output.net \
	outputs/partslist2/SlottedOpamps-output.net \
	outputs/partslist2/TwoStageAmp-output.net \
	outputs/partslist2/cascade-output.net \
	outputs/partslist2/multiequal-output.net \
	outputs/partslist2/netattrib-output.net \
	outputs/partslist2/powersupply-output.net \
	outputs/partslist2/singlenet-output.net \
	outputs/partslist2/stack-torture-output.net \
	outputs/partslist3/JD-output.net \
	outputs/partslist3/SlottedOpamps-output.net \
	outputs/partslist3/TwoStageAmp-output.net \
	outputs/partslist3/cascade-output.net \
	outputs/partslist3/multiequal-output.net \
	outputs/partslist3/netattrib-output.net \
	outputs/partslist3/powersupply-output.net \
	outputs/partslist3/singlenet-output.net \
	outputs/partslist3/stack-torture-output.net \
	outputs/pcbpins/JD-output.net \
	outputs/pcbpins/SlottedOpamps-output.net \
	outputs/pcbpins/TwoStageAmp-output.net \
	outputs/pcbpins/cascade-output.net \
	outputs/pcbpins/multiequal-output.net \
	outputs/pcbpins/netattrib-output.net \
	outputs/pcbpins/powersupply-output.net \
	outputs/pcbpins/singlenet-output.net \
	outputs/pcbpins/stack-torture-output.net \
	outputs/protelII/JD-output.net \
	outputs/protelII/SlottedOpamps-output.net \
	outputs/protelII/TwoStageAmp-output.net \
	outputs/protelII/cascade-output.net \
	outputs/protelII/multiequal-output.net \
	outputs/protelII/netattrib-output.net \
	outputs/protelII/powersupply-output.net \
	outputs/protelII/singlenet-output.net \
	outputs/protelII/stack-torture-output.net \
	outputs/redac/JD-output.net \
	outputs/redac/SlottedOpamps-output.net \
	outputs/redac/TwoStageAmp-output.net \
	outputs/redac/cascade-output.net \
	outputs/redac/multiequal-output.net \
	outputs/redac/netattrib-output.net \
	outputs/redac/powersupply-output.net \
	outputs/redac/singlenet-output.net \
	outputs/redac/stack-torture-output.net \
	outputs/spice-sdb-include-nomunge/JD-output.net \
	outputs/spice-sdb-include/JD-output.net \
	outputs/spice-sdb-include/TwoStageAmp-output.net \
	outputs/spice-sdb-nomunge/JD-output.net \
	outputs/spice-sdb-sort-nomunge/JD-output.net \
	outputs/spice-sdb-sort/JD-output.net \
	outputs/spice-sdb-sort/TwoStageAmp-output.net \
	outputs/spice-sdb/JD-output.net \
	outputs/spice-sdb/SlottedOpamps-output.net \
	outputs/spice-sdb/TwoStageAmp-output.net \
	outputs/spice-sdb/cascade-output.net \
	outputs/spice-sdb/multiequal-output.net \
	outputs/spice-sdb/netattrib-output.net \
	outputs/spice-sdb/powersupply-output.net \
	outputs/spice-sdb/singlenet-output.net \
	outputs/spice-sdb/stack-torture-output.net \
	outputs/spice/JD-output.net \
	outputs/spice/SlottedOpamps-output.net \
	outputs/spice/TwoStageAmp-output.net \
	outputs/spice/cascade-output.net \
	outputs/spice/multiequal-output.net \
	outputs/spice/netattrib-output.net \
	outputs/spice/powersupply-output.net \
	outputs/spice/singlenet-output.net \
	outputs/spice/stack-torture-output.net \
	outputs/switcap/JD-output.net \
	outputs/switcap/SlottedOpamps-output.net \
	outputs/switcap/TwoStageAmp-output.net \
	outputs/switcap/cascade-output.net \
	outputs/switcap/multiequal-output.net \
	outputs/switcap/netattrib-output.net \
	outputs/switcap/powersupply-output.net \
	outputs/switcap/singlenet-output.net \
	outputs/switcap/stack-torture-output.net \
	outputs/systemc/JD-output.net \
	outputs/systemc/SlottedOpamps-output.net \
	outputs/systemc/TwoStageAmp-output.net \
	outputs/systemc/cascade-output.net \
	outputs/systemc/multiequal-output.net \
	outputs/systemc/netattrib-output.net \
	outputs/systemc/powersupply-output.net \
	outputs/systemc/singlenet-output.net \
	outputs/systemc/stack-torture-output.net \
	outputs/tango/JD-output.net \
	outputs/tango/SlottedOpamps-output.net \
	outputs/tango/TwoStageAmp-output.net \
	outputs/tango/cascade-output.net \
	outputs/tango/multiequal-output.net \
	outputs/tango/netattrib-output.net \
	outputs/tango/powersupply-output.net \
	outputs/tango/singlenet-output.net \
	outputs/tango/stack-torture-output.net \
	outputs/vams/JD-output.net \
	outputs/vams/SlottedOpamps-output.net \
	outputs/vams/TwoStageAmp-output.net \
	outputs/vams/cascade-output.net \
	outputs/vams/multiequal-output.net \
	outputs/vams/netattrib-output.net \
	outputs/vams/powersupply-output.net \
	outputs/vams/singlenet-output.net \
	outputs/vams/stack-torture-output.net \
	outputs/verilog/JD-output.net \
	outputs/verilog/SlottedOpamps-output.net \
	outputs/verilog/TwoStageAmp-output.net \
	outputs/verilog/cascade-output.net \
	outputs/verilog/multiequal-output.net \
	outputs/verilog/netattrib-output.net \
	outputs/verilog/powersupply-output.net \
	outputs/verilog/singlenet-output.net \
	outputs/verilog/stack-torture-output.net \
	outputs/vhdl/JD-output.net \
	outputs/vhdl/SlottedOpamps-output.net \
	outputs/vhdl/TwoStageAmp-output.net \
	outputs/vhdl/cascade-output.net \
	outputs/vhdl/multiequal-output.net \
	outputs/vhdl/netattrib-output.net \
	outputs/vhdl/powersupply-output.net \
	outputs/vhdl/singlenet-output.net \
	outputs/vhdl/stack-torture-output.net \
	outputs/vipec/JD-output.net \
	outputs/vipec/SlottedOpamps-output.net \
	outputs/vipec/TwoStageAmp-output.net \
	outputs/vipec/cascade-output.net \
	outputs/vipec/multiequal-output.net \
	outputs/vipec/netattrib-output.net \
	outputs/vipec/powersupply-output.net \
	outputs/vipec/singlenet-output.net \
	outputs/vipec/stack-torture-output.net
