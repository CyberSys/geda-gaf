TEST_EXTENSIONS = .out

AM_TESTS_ENVIRONMENT = \
	srcdir='$(srcdir)'; export srcdir;
OUT_LOG_COMPILER = $(srcdir)/run-test

dist_check_SCRIPTS = run-test
EXTRA_DIST = $(input_files) $(TESTS)
# dist_check_DATA would be more appropriate for $(input_files) and $(TESTS)
# but triggers a lot of "Nothing to be done for '...'" messages.

input_files = \
	inputs/JD-extras/openIP_5.cir \
	inputs/JD-symbols/LVD.sym \
	inputs/JD.sch \
	inputs/SlottedOpamps-symbols/LM324_slotted-1.sym \
	inputs/SlottedOpamps.sch \
	inputs/TwoStageAmp-extras/2N3904.mod \
	inputs/TwoStageAmp-extras/Simulation.cmd \
	inputs/TwoStageAmp-symbols/transistor.sym \
	inputs/TwoStageAmp.sch \
	inputs/cascade.sch \
	inputs/multiequal.sch \
	inputs/netattrib.sch \
	inputs/powersupply.sch \
	inputs/singlenet.sch \
	inputs/stack-torture.sch

XFAIL_TESTS = \
	outputs/SlottedOpamps-futurenet2.out \
	outputs/SlottedOpamps-switcap.out

TESTS = outputs/JD-PCB.out \
	outputs/JD-allegro.out \
	outputs/JD-bae.out \
	outputs/JD-bom.out \
	outputs/JD-bom2.out \
	outputs/JD-calay.out \
	outputs/JD-drc.out \
	outputs/JD-drc2.out \
	outputs/JD-eagle.out \
	outputs/JD-ewnet.out \
	outputs/JD-futurenet2.out \
	outputs/JD-geda.out \
	outputs/JD-gossip.out \
	outputs/JD-gsch2pcb.out \
	outputs/JD-liquidpcb.out \
	outputs/JD-mathematica.out \
	outputs/JD-maxascii.out \
	outputs/JD-osmond.out \
	outputs/JD-pads.out \
	outputs/JD-partslist1.out \
	outputs/JD-partslist2.out \
	outputs/JD-partslist3.out \
	outputs/JD-pcbpins.out \
	outputs/JD-protelII.out \
	outputs/JD-redac.out \
	outputs/JD-spice-sdb-include-nomunge.out \
	outputs/JD-spice-sdb-include.out \
	outputs/JD-spice-sdb-nomunge.out \
	outputs/JD-spice-sdb-sort-nomunge.out \
	outputs/JD-spice-sdb-sort.out \
	outputs/JD-spice-sdb.out \
	outputs/JD-spice.out \
	outputs/JD-switcap.out \
	outputs/JD-systemc.out \
	outputs/JD-tango.out \
	outputs/JD-vams.out \
	outputs/JD-verilog.out \
	outputs/JD-vhdl.out \
	outputs/JD-vipec.out \
	outputs/SlottedOpamps-PCB.out \
	outputs/SlottedOpamps-allegro.out \
	outputs/SlottedOpamps-bae.out \
	outputs/SlottedOpamps-bom.out \
	outputs/SlottedOpamps-bom2.out \
	outputs/SlottedOpamps-calay.out \
	outputs/SlottedOpamps-drc.out \
	outputs/SlottedOpamps-drc2.out \
	outputs/SlottedOpamps-eagle.out \
	outputs/SlottedOpamps-ewnet.out \
	outputs/SlottedOpamps-futurenet2.out \
	outputs/SlottedOpamps-geda.out \
	outputs/SlottedOpamps-gossip.out \
	outputs/SlottedOpamps-gsch2pcb.out \
	outputs/SlottedOpamps-liquidpcb.out \
	outputs/SlottedOpamps-mathematica.out \
	outputs/SlottedOpamps-maxascii.out \
	outputs/SlottedOpamps-osmond.out \
	outputs/SlottedOpamps-pads.out \
	outputs/SlottedOpamps-partslist1.out \
	outputs/SlottedOpamps-partslist2.out \
	outputs/SlottedOpamps-partslist3.out \
	outputs/SlottedOpamps-pcbpins.out \
	outputs/SlottedOpamps-protelII.out \
	outputs/SlottedOpamps-redac.out \
	outputs/SlottedOpamps-spice-sdb.out \
	outputs/SlottedOpamps-spice.out \
	outputs/SlottedOpamps-switcap.out \
	outputs/SlottedOpamps-systemc.out \
	outputs/SlottedOpamps-tango.out \
	outputs/SlottedOpamps-vams.out \
	outputs/SlottedOpamps-verilog.out \
	outputs/SlottedOpamps-vhdl.out \
	outputs/SlottedOpamps-vipec.out \
	outputs/TwoStageAmp-PCB.out \
	outputs/TwoStageAmp-allegro.out \
	outputs/TwoStageAmp-bae.out \
	outputs/TwoStageAmp-bom.out \
	outputs/TwoStageAmp-bom2.out \
	outputs/TwoStageAmp-calay.out \
	outputs/TwoStageAmp-drc.out \
	outputs/TwoStageAmp-drc2.out \
	outputs/TwoStageAmp-eagle.out \
	outputs/TwoStageAmp-ewnet.out \
	outputs/TwoStageAmp-futurenet2.out \
	outputs/TwoStageAmp-geda.out \
	outputs/TwoStageAmp-gossip.out \
	outputs/TwoStageAmp-gsch2pcb.out \
	outputs/TwoStageAmp-liquidpcb.out \
	outputs/TwoStageAmp-mathematica.out \
	outputs/TwoStageAmp-maxascii.out \
	outputs/TwoStageAmp-osmond.out \
	outputs/TwoStageAmp-pads.out \
	outputs/TwoStageAmp-partslist1.out \
	outputs/TwoStageAmp-partslist2.out \
	outputs/TwoStageAmp-partslist3.out \
	outputs/TwoStageAmp-pcbpins.out \
	outputs/TwoStageAmp-protelII.out \
	outputs/TwoStageAmp-redac.out \
	outputs/TwoStageAmp-spice-sdb-include.out \
	outputs/TwoStageAmp-spice-sdb-sort.out \
	outputs/TwoStageAmp-spice-sdb.out \
	outputs/TwoStageAmp-spice.out \
	outputs/TwoStageAmp-switcap.out \
	outputs/TwoStageAmp-systemc.out \
	outputs/TwoStageAmp-tango.out \
	outputs/TwoStageAmp-vams.out \
	outputs/TwoStageAmp-verilog.out \
	outputs/TwoStageAmp-vhdl.out \
	outputs/TwoStageAmp-vipec.out \
	outputs/cascade-PCB.out \
	outputs/cascade-allegro.out \
	outputs/cascade-bae.out \
	outputs/cascade-bom.out \
	outputs/cascade-bom2.out \
	outputs/cascade-calay.out \
	outputs/cascade-cascade.out \
	outputs/cascade-drc.out \
	outputs/cascade-drc2.out \
	outputs/cascade-eagle.out \
	outputs/cascade-ewnet.out \
	outputs/cascade-futurenet2.out \
	outputs/cascade-geda.out \
	outputs/cascade-gossip.out \
	outputs/cascade-gsch2pcb.out \
	outputs/cascade-liquidpcb.out \
	outputs/cascade-mathematica.out \
	outputs/cascade-maxascii.out \
	outputs/cascade-osmond.out \
	outputs/cascade-pads.out \
	outputs/cascade-partslist1.out \
	outputs/cascade-partslist2.out \
	outputs/cascade-partslist3.out \
	outputs/cascade-pcbpins.out \
	outputs/cascade-protelII.out \
	outputs/cascade-redac.out \
	outputs/cascade-spice-sdb.out \
	outputs/cascade-spice.out \
	outputs/cascade-switcap.out \
	outputs/cascade-systemc.out \
	outputs/cascade-tango.out \
	outputs/cascade-vams.out \
	outputs/cascade-verilog.out \
	outputs/cascade-vhdl.out \
	outputs/cascade-vipec.out \
	outputs/multiequal-PCB.out \
	outputs/multiequal-allegro.out \
	outputs/multiequal-bae.out \
	outputs/multiequal-bom.out \
	outputs/multiequal-bom2.out \
	outputs/multiequal-calay.out \
	outputs/multiequal-drc.out \
	outputs/multiequal-drc2.out \
	outputs/multiequal-eagle.out \
	outputs/multiequal-ewnet.out \
	outputs/multiequal-futurenet2.out \
	outputs/multiequal-geda.out \
	outputs/multiequal-gossip.out \
	outputs/multiequal-gsch2pcb.out \
	outputs/multiequal-liquidpcb.out \
	outputs/multiequal-mathematica.out \
	outputs/multiequal-maxascii.out \
	outputs/multiequal-osmond.out \
	outputs/multiequal-pads.out \
	outputs/multiequal-partslist1.out \
	outputs/multiequal-partslist2.out \
	outputs/multiequal-partslist3.out \
	outputs/multiequal-pcbpins.out \
	outputs/multiequal-protelII.out \
	outputs/multiequal-redac.out \
	outputs/multiequal-spice-sdb.out \
	outputs/multiequal-spice.out \
	outputs/multiequal-switcap.out \
	outputs/multiequal-systemc.out \
	outputs/multiequal-tango.out \
	outputs/multiequal-vams.out \
	outputs/multiequal-verilog.out \
	outputs/multiequal-vhdl.out \
	outputs/multiequal-vipec.out \
	outputs/netattrib-PCB.out \
	outputs/netattrib-allegro.out \
	outputs/netattrib-bae.out \
	outputs/netattrib-bom.out \
	outputs/netattrib-bom2.out \
	outputs/netattrib-calay.out \
	outputs/netattrib-drc.out \
	outputs/netattrib-drc2.out \
	outputs/netattrib-eagle.out \
	outputs/netattrib-ewnet.out \
	outputs/netattrib-futurenet2.out \
	outputs/netattrib-geda.out \
	outputs/netattrib-gossip.out \
	outputs/netattrib-gsch2pcb.out \
	outputs/netattrib-liquidpcb.out \
	outputs/netattrib-mathematica.out \
	outputs/netattrib-maxascii.out \
	outputs/netattrib-osmond.out \
	outputs/netattrib-pads.out \
	outputs/netattrib-partslist1.out \
	outputs/netattrib-partslist2.out \
	outputs/netattrib-partslist3.out \
	outputs/netattrib-pcbpins.out \
	outputs/netattrib-protelII.out \
	outputs/netattrib-redac.out \
	outputs/netattrib-spice-sdb.out \
	outputs/netattrib-spice.out \
	outputs/netattrib-switcap.out \
	outputs/netattrib-systemc.out \
	outputs/netattrib-tango.out \
	outputs/netattrib-vams.out \
	outputs/netattrib-verilog.out \
	outputs/netattrib-vhdl.out \
	outputs/netattrib-vipec.out \
	outputs/powersupply-PCB.out \
	outputs/powersupply-allegro.out \
	outputs/powersupply-bae.out \
	outputs/powersupply-bom.out \
	outputs/powersupply-bom2.out \
	outputs/powersupply-calay.out \
	outputs/powersupply-drc.out \
	outputs/powersupply-drc2.out \
	outputs/powersupply-eagle.out \
	outputs/powersupply-ewnet.out \
	outputs/powersupply-futurenet2.out \
	outputs/powersupply-geda.out \
	outputs/powersupply-gossip.out \
	outputs/powersupply-gsch2pcb.out \
	outputs/powersupply-liquidpcb.out \
	outputs/powersupply-mathematica.out \
	outputs/powersupply-maxascii.out \
	outputs/powersupply-osmond.out \
	outputs/powersupply-pads.out \
	outputs/powersupply-partslist1.out \
	outputs/powersupply-partslist2.out \
	outputs/powersupply-partslist3.out \
	outputs/powersupply-pcbpins.out \
	outputs/powersupply-protelII.out \
	outputs/powersupply-redac.out \
	outputs/powersupply-spice-sdb.out \
	outputs/powersupply-spice.out \
	outputs/powersupply-switcap.out \
	outputs/powersupply-systemc.out \
	outputs/powersupply-tango.out \
	outputs/powersupply-vams.out \
	outputs/powersupply-verilog.out \
	outputs/powersupply-vhdl.out \
	outputs/powersupply-vipec.out \
	outputs/singlenet-PCB.out \
	outputs/singlenet-allegro.out \
	outputs/singlenet-bae.out \
	outputs/singlenet-bom.out \
	outputs/singlenet-bom2.out \
	outputs/singlenet-calay.out \
	outputs/singlenet-drc.out \
	outputs/singlenet-drc2.out \
	outputs/singlenet-eagle.out \
	outputs/singlenet-ewnet.out \
	outputs/singlenet-futurenet2.out \
	outputs/singlenet-geda.out \
	outputs/singlenet-gossip.out \
	outputs/singlenet-gsch2pcb.out \
	outputs/singlenet-liquidpcb.out \
	outputs/singlenet-mathematica.out \
	outputs/singlenet-maxascii.out \
	outputs/singlenet-osmond.out \
	outputs/singlenet-pads.out \
	outputs/singlenet-partslist1.out \
	outputs/singlenet-partslist2.out \
	outputs/singlenet-partslist3.out \
	outputs/singlenet-pcbpins.out \
	outputs/singlenet-protelII.out \
	outputs/singlenet-redac.out \
	outputs/singlenet-spice-sdb.out \
	outputs/singlenet-spice.out \
	outputs/singlenet-switcap.out \
	outputs/singlenet-systemc.out \
	outputs/singlenet-tango.out \
	outputs/singlenet-vams.out \
	outputs/singlenet-verilog.out \
	outputs/singlenet-vhdl.out \
	outputs/singlenet-vipec.out \
	outputs/stack-torture-PCB.out \
	outputs/stack-torture-allegro.out \
	outputs/stack-torture-bae.out \
	outputs/stack-torture-bom.out \
	outputs/stack-torture-bom2.out \
	outputs/stack-torture-calay.out \
	outputs/stack-torture-drc.out \
	outputs/stack-torture-drc2.out \
	outputs/stack-torture-eagle.out \
	outputs/stack-torture-ewnet.out \
	outputs/stack-torture-futurenet2.out \
	outputs/stack-torture-geda.out \
	outputs/stack-torture-gossip.out \
	outputs/stack-torture-gsch2pcb.out \
	outputs/stack-torture-liquidpcb.out \
	outputs/stack-torture-mathematica.out \
	outputs/stack-torture-maxascii.out \
	outputs/stack-torture-osmond.out \
	outputs/stack-torture-pads.out \
	outputs/stack-torture-partslist1.out \
	outputs/stack-torture-partslist2.out \
	outputs/stack-torture-partslist3.out \
	outputs/stack-torture-pcbpins.out \
	outputs/stack-torture-protelII.out \
	outputs/stack-torture-redac.out \
	outputs/stack-torture-spice-sdb.out \
	outputs/stack-torture-spice.out \
	outputs/stack-torture-switcap.out \
	outputs/stack-torture-systemc.out \
	outputs/stack-torture-tango.out \
	outputs/stack-torture-vams.out \
	outputs/stack-torture-verilog.out \
	outputs/stack-torture-vhdl.out \
	outputs/stack-torture-vipec.out
