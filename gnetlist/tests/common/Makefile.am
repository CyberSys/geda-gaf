TEST_EXTENSIONS = .out

AM_TESTS_ENVIRONMENT = \
	srcdir='$(srcdir)'; export srcdir;
OUT_LOG_COMPILER = $(srcdir)/run-test

dist_check_SCRIPTS = run-test
EXTRA_DIST = $(input_files) $(TESTS)
# dist_check_DATA would be more appropriate for $(input_files) and $(TESTS)
# but triggers a lot of "Nothing to be done for '...'" messages.

input_files = \
	JD-extras/openIP_5.cir \
	JD-symbols/LVD.sym \
	JD.sch \
	SlottedOpamps-symbols/LM324_slotted-1.sym \
	SlottedOpamps.sch \
	TwoStageAmp-extras/2N3904.mod \
	TwoStageAmp-extras/Simulation.cmd \
	TwoStageAmp-symbols/transistor.sym \
	TwoStageAmp.sch \
	cascade.sch \
	multiequal.sch \
	netattrib.sch \
	powersupply.sch \
	singlenet.sch \
	stack-torture.sch

XFAIL_TESTS = \
	SlottedOpamps-futurenet2.out \
	SlottedOpamps-switcap.out

TESTS = JD-PCB.out \
	JD-allegro.out \
	JD-bae.out \
	JD-bom.out \
	JD-bom2.out \
	JD-calay.out \
	JD-drc.out \
	JD-drc2.out \
	JD-eagle.out \
	JD-ewnet.out \
	JD-futurenet2.out \
	JD-geda.out \
	JD-gossip.out \
	JD-gsch2pcb.out \
	JD-liquidpcb.out \
	JD-mathematica.out \
	JD-maxascii.out \
	JD-osmond.out \
	JD-pads.out \
	JD-partslist1.out \
	JD-partslist2.out \
	JD-partslist3.out \
	JD-pcbpins.out \
	JD-protelII.out \
	JD-redac.out \
	JD-spice-sdb-include-nomunge.out \
	JD-spice-sdb-include.out \
	JD-spice-sdb-nomunge.out \
	JD-spice-sdb-sort-nomunge.out \
	JD-spice-sdb-sort.out \
	JD-spice-sdb.out \
	JD-spice.out \
	JD-switcap.out \
	JD-systemc.out \
	JD-tango.out \
	JD-vams.out \
	JD-verilog.out \
	JD-vhdl.out \
	JD-vipec.out \
	SlottedOpamps-PCB.out \
	SlottedOpamps-allegro.out \
	SlottedOpamps-bae.out \
	SlottedOpamps-bom.out \
	SlottedOpamps-bom2.out \
	SlottedOpamps-calay.out \
	SlottedOpamps-drc.out \
	SlottedOpamps-drc2.out \
	SlottedOpamps-eagle.out \
	SlottedOpamps-ewnet.out \
	SlottedOpamps-futurenet2.out \
	SlottedOpamps-geda.out \
	SlottedOpamps-gossip.out \
	SlottedOpamps-gsch2pcb.out \
	SlottedOpamps-liquidpcb.out \
	SlottedOpamps-mathematica.out \
	SlottedOpamps-maxascii.out \
	SlottedOpamps-osmond.out \
	SlottedOpamps-pads.out \
	SlottedOpamps-partslist1.out \
	SlottedOpamps-partslist2.out \
	SlottedOpamps-partslist3.out \
	SlottedOpamps-pcbpins.out \
	SlottedOpamps-protelII.out \
	SlottedOpamps-redac.out \
	SlottedOpamps-spice-sdb.out \
	SlottedOpamps-spice.out \
	SlottedOpamps-switcap.out \
	SlottedOpamps-systemc.out \
	SlottedOpamps-tango.out \
	SlottedOpamps-vams.out \
	SlottedOpamps-verilog.out \
	SlottedOpamps-vhdl.out \
	SlottedOpamps-vipec.out \
	TwoStageAmp-PCB.out \
	TwoStageAmp-allegro.out \
	TwoStageAmp-bae.out \
	TwoStageAmp-bom.out \
	TwoStageAmp-bom2.out \
	TwoStageAmp-calay.out \
	TwoStageAmp-drc.out \
	TwoStageAmp-drc2.out \
	TwoStageAmp-eagle.out \
	TwoStageAmp-ewnet.out \
	TwoStageAmp-futurenet2.out \
	TwoStageAmp-geda.out \
	TwoStageAmp-gossip.out \
	TwoStageAmp-gsch2pcb.out \
	TwoStageAmp-liquidpcb.out \
	TwoStageAmp-mathematica.out \
	TwoStageAmp-maxascii.out \
	TwoStageAmp-osmond.out \
	TwoStageAmp-pads.out \
	TwoStageAmp-partslist1.out \
	TwoStageAmp-partslist2.out \
	TwoStageAmp-partslist3.out \
	TwoStageAmp-pcbpins.out \
	TwoStageAmp-protelII.out \
	TwoStageAmp-redac.out \
	TwoStageAmp-spice-sdb-include.out \
	TwoStageAmp-spice-sdb-sort.out \
	TwoStageAmp-spice-sdb.out \
	TwoStageAmp-spice.out \
	TwoStageAmp-switcap.out \
	TwoStageAmp-systemc.out \
	TwoStageAmp-tango.out \
	TwoStageAmp-vams.out \
	TwoStageAmp-verilog.out \
	TwoStageAmp-vhdl.out \
	TwoStageAmp-vipec.out \
	cascade-PCB.out \
	cascade-allegro.out \
	cascade-bae.out \
	cascade-bom.out \
	cascade-bom2.out \
	cascade-calay.out \
	cascade-cascade.out \
	cascade-drc.out \
	cascade-drc2.out \
	cascade-eagle.out \
	cascade-ewnet.out \
	cascade-futurenet2.out \
	cascade-geda.out \
	cascade-gossip.out \
	cascade-gsch2pcb.out \
	cascade-liquidpcb.out \
	cascade-mathematica.out \
	cascade-maxascii.out \
	cascade-osmond.out \
	cascade-pads.out \
	cascade-partslist1.out \
	cascade-partslist2.out \
	cascade-partslist3.out \
	cascade-pcbpins.out \
	cascade-protelII.out \
	cascade-redac.out \
	cascade-spice-sdb.out \
	cascade-spice.out \
	cascade-switcap.out \
	cascade-systemc.out \
	cascade-tango.out \
	cascade-vams.out \
	cascade-verilog.out \
	cascade-vhdl.out \
	cascade-vipec.out \
	multiequal-PCB.out \
	multiequal-allegro.out \
	multiequal-bae.out \
	multiequal-bom.out \
	multiequal-bom2.out \
	multiequal-calay.out \
	multiequal-drc.out \
	multiequal-drc2.out \
	multiequal-eagle.out \
	multiequal-ewnet.out \
	multiequal-futurenet2.out \
	multiequal-geda.out \
	multiequal-gossip.out \
	multiequal-gsch2pcb.out \
	multiequal-liquidpcb.out \
	multiequal-mathematica.out \
	multiequal-maxascii.out \
	multiequal-osmond.out \
	multiequal-pads.out \
	multiequal-partslist1.out \
	multiequal-partslist2.out \
	multiequal-partslist3.out \
	multiequal-pcbpins.out \
	multiequal-protelII.out \
	multiequal-redac.out \
	multiequal-spice-sdb.out \
	multiequal-spice.out \
	multiequal-switcap.out \
	multiequal-systemc.out \
	multiequal-tango.out \
	multiequal-vams.out \
	multiequal-verilog.out \
	multiequal-vhdl.out \
	multiequal-vipec.out \
	netattrib-PCB.out \
	netattrib-allegro.out \
	netattrib-bae.out \
	netattrib-bom.out \
	netattrib-bom2.out \
	netattrib-calay.out \
	netattrib-drc.out \
	netattrib-drc2.out \
	netattrib-eagle.out \
	netattrib-ewnet.out \
	netattrib-futurenet2.out \
	netattrib-geda.out \
	netattrib-gossip.out \
	netattrib-gsch2pcb.out \
	netattrib-liquidpcb.out \
	netattrib-mathematica.out \
	netattrib-maxascii.out \
	netattrib-osmond.out \
	netattrib-pads.out \
	netattrib-partslist1.out \
	netattrib-partslist2.out \
	netattrib-partslist3.out \
	netattrib-pcbpins.out \
	netattrib-protelII.out \
	netattrib-redac.out \
	netattrib-spice-sdb.out \
	netattrib-spice.out \
	netattrib-switcap.out \
	netattrib-systemc.out \
	netattrib-tango.out \
	netattrib-vams.out \
	netattrib-verilog.out \
	netattrib-vhdl.out \
	netattrib-vipec.out \
	powersupply-PCB.out \
	powersupply-allegro.out \
	powersupply-bae.out \
	powersupply-bom.out \
	powersupply-bom2.out \
	powersupply-calay.out \
	powersupply-drc.out \
	powersupply-drc2.out \
	powersupply-eagle.out \
	powersupply-ewnet.out \
	powersupply-futurenet2.out \
	powersupply-geda.out \
	powersupply-gossip.out \
	powersupply-gsch2pcb.out \
	powersupply-liquidpcb.out \
	powersupply-mathematica.out \
	powersupply-maxascii.out \
	powersupply-osmond.out \
	powersupply-pads.out \
	powersupply-partslist1.out \
	powersupply-partslist2.out \
	powersupply-partslist3.out \
	powersupply-pcbpins.out \
	powersupply-protelII.out \
	powersupply-redac.out \
	powersupply-spice-sdb.out \
	powersupply-spice.out \
	powersupply-switcap.out \
	powersupply-systemc.out \
	powersupply-tango.out \
	powersupply-vams.out \
	powersupply-verilog.out \
	powersupply-vhdl.out \
	powersupply-vipec.out \
	singlenet-PCB.out \
	singlenet-allegro.out \
	singlenet-bae.out \
	singlenet-bom.out \
	singlenet-bom2.out \
	singlenet-calay.out \
	singlenet-drc.out \
	singlenet-drc2.out \
	singlenet-eagle.out \
	singlenet-ewnet.out \
	singlenet-futurenet2.out \
	singlenet-geda.out \
	singlenet-gossip.out \
	singlenet-gsch2pcb.out \
	singlenet-liquidpcb.out \
	singlenet-mathematica.out \
	singlenet-maxascii.out \
	singlenet-osmond.out \
	singlenet-pads.out \
	singlenet-partslist1.out \
	singlenet-partslist2.out \
	singlenet-partslist3.out \
	singlenet-pcbpins.out \
	singlenet-protelII.out \
	singlenet-redac.out \
	singlenet-spice-sdb.out \
	singlenet-spice.out \
	singlenet-switcap.out \
	singlenet-systemc.out \
	singlenet-tango.out \
	singlenet-vams.out \
	singlenet-verilog.out \
	singlenet-vhdl.out \
	singlenet-vipec.out \
	stack-torture-PCB.out \
	stack-torture-allegro.out \
	stack-torture-bae.out \
	stack-torture-bom.out \
	stack-torture-bom2.out \
	stack-torture-calay.out \
	stack-torture-drc.out \
	stack-torture-drc2.out \
	stack-torture-eagle.out \
	stack-torture-ewnet.out \
	stack-torture-futurenet2.out \
	stack-torture-geda.out \
	stack-torture-gossip.out \
	stack-torture-gsch2pcb.out \
	stack-torture-liquidpcb.out \
	stack-torture-mathematica.out \
	stack-torture-maxascii.out \
	stack-torture-osmond.out \
	stack-torture-pads.out \
	stack-torture-partslist1.out \
	stack-torture-partslist2.out \
	stack-torture-partslist3.out \
	stack-torture-pcbpins.out \
	stack-torture-protelII.out \
	stack-torture-redac.out \
	stack-torture-spice-sdb.out \
	stack-torture-spice.out \
	stack-torture-switcap.out \
	stack-torture-systemc.out \
	stack-torture-tango.out \
	stack-torture-vams.out \
	stack-torture-verilog.out \
	stack-torture-vhdl.out \
	stack-torture-vipec.out
